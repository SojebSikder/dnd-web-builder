(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const w={order:["header","content"],sections:{header:{id:"header",type:"container",settings:{}},content:{id:"content",type:"rich-text",settings:{heading:"About Us"},blocks:[{id:"b1",type:"text",settings:{text:"We are building a modern block editor."}},{id:"b4",type:"link",settings:{label:"Contact",href:"/contact"}},{id:"b5",type:"button",settings:{label:"Click me"}},{id:"b6",type:"quote",settings:{text:"Hello world, this is quote"}}]}}},C={},E={},x={},S={};function v(o){o.blocks?.forEach(e=>{if(x[e.type]){console.warn(`Block already registered: ${e.type}`);return}x[e.type]=e.renderer,C[e.type]=e}),o.sections?.forEach(e=>{if(S[e.type]){console.warn(`Section already registered: ${e.type}`);return}S[e.type]=e.renderer,E[e.type]=e}),console.log(`Plugin loaded: ${o.name}`)}function f(o){return C[o]}function k(o){return E[o]}function T(){return Object.values(E)}function D(){return Object.values(C)}class P{createModal(e){const{title:t="Modal",width:n="80%",height:i="90%",content:s,actions:r=[]}=e,l=document.createElement("div");l.classList.add("modal-container"),Object.assign(l.style,{position:"fixed",inset:"0",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"9999"});const a=document.createElement("div");a.className="modal-box",Object.assign(a.style,{width:n,height:i,backgroundColor:"#fff",borderRadius:"8px",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.25)"}),l.appendChild(a),document.body.appendChild(l);const d=document.createElement("div");Object.assign(d.style,{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 16px",backgroundColor:"#f8f8f8",borderBottom:"1px solid #ddd"});const p=document.createElement("span");p.textContent=t;const u=document.createElement("div");u.style.display="flex",u.style.gap="8px",r.forEach(h=>{const b=document.createElement("button");b.classList.add("btn","btn-primary","modal-actions"),b.textContent=h.label,h.className&&b.classList.add(h.className),b.onclick=()=>h.onClick(m),u.appendChild(b)});const y=document.createElement("button");y.classList.add("btn","btn-primary","modal-actions"),y.textContent="Close",d.appendChild(p),d.appendChild(u),d.appendChild(y),a.appendChild(d);const g=document.createElement("div");Object.assign(g.style,{flex:"1",padding:"16px",overflowY:"auto"}),g.appendChild(s),a.appendChild(g);const m=()=>{document.removeEventListener("keydown",L),l.remove()},L=h=>{h.key==="Escape"&&m()};return y.onclick=m,l.onclick=h=>{h.target===l&&m()},document.addEventListener("keydown",L),{close:m}}}class M{app;editor;settingsContainer;_ui;selected=null;designMode=!0;pageData;constructor(e){this.app=e,this.buildUI(),this.editor.addEventListener("click",t=>{if(!this.designMode)return;const n=t.target;n.closest("a")&&(t.preventDefault(),t.stopPropagation()),n.closest("button")&&(t.preventDefault(),t.stopPropagation())}),this.editor.addEventListener("submit",t=>{this.designMode&&(t.preventDefault(),t.stopPropagation())})}ui(){return this._ui||(this._ui=new P),this._ui}buildUI(){const e=document.createElement("div");e.classList.add("layout");const t=document.createElement("aside");t.id="sidebar";const n=document.createElement("h3");n.textContent="Sections";const i=document.createElement("div");i.id="section-list",i.classList.add("section-list");const s=document.createElement("h3");s.textContent="Blocks";const r=document.createElement("div");r.id="block-list",r.classList.add("section-list");const l=document.createElement("div");l.id="toolbar";const a=document.createElement("button");a.classList.add("btn"),a.id="delete-btn",a.textContent="Delete Selected";const d=document.createElement("button");d.classList.add("btn"),d.id="design-mode-btn",d.textContent="Design Mode";const p=document.createElement("button");p.classList.add("btn"),p.id="show-json-btn",p.textContent="Show JSON";const u=document.createElement("div");u.classList.add("main-content");const y=document.createElement("div");y.id="editor";const g=document.createElement("div");g.id="settings-panel",u.appendChild(y),u.appendChild(g),l.appendChild(a),l.appendChild(d),l.appendChild(p),t.appendChild(l),t.appendChild(n),t.appendChild(i),t.appendChild(s),t.appendChild(r),e.appendChild(t),e.appendChild(u),this.app.appendChild(e),this.editor=y,this.settingsContainer=g,d.addEventListener("click",()=>{this.setDesignMode(!this.designMode),d.textContent=this.designMode?"Design Mode":"Preview Mode"}),a.addEventListener("click",()=>{this.deleteSelected()}),p.addEventListener("click",()=>{this.showJSONModal()})}getJSON(){return JSON.stringify(this.pageData,null,2)}showJSONModal(){const e=this.getJSON(),t=document.createElement("pre");t.classList.add("json-modal"),t.innerHTML=this.syntaxHighlightWithLineNumbers(e),this.ui().createModal({title:"JSON Viewer",content:t,width:"50%",actions:[{label:"Copy",className:"btn-secondary",onClick:async()=>{await navigator.clipboard.writeText(e)}}]})}syntaxHighlightWithLineNumbers(e){return e=JSON.stringify(JSON.parse(e),null,2),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(\.\d+)?([eE][+-]?\d+)?)/g,n=>{let i="json-number";return/^"/.test(n)?i=/:$/.test(n)?"json-key":"json-string":/true|false/.test(n)?i="json-boolean":/null/.test(n)&&(i="json-null"),`<span class="${i}">${n}</span>`}).split(`
`).map((n,i)=>`<span class="json-line"><span class="line-number">${i+1}</span> ${n}</span>`).join(`
`)}setDesignMode(e){this.designMode=e,e?this.editor.classList.add("design-mode"):this.editor.classList.remove("design-mode")}load(e){this.pageData=e,this.editor.innerHTML="",this.pageData.order.forEach(t=>{const n=this.pageData.sections[t];n&&this.loadSection(n,this)})}loadSection(e,t){const n=S[e.type];if(!n){console.warn(`No renderer for section: ${e.type}`);return}const i=n(e,t);i.classList.add("editor-section"),i.dataset.sectionId=e.id,i.dataset.sectionType=e.type,this.editor.appendChild(i),i.draggable=!0,this.setupSectionDrag(i),this.editor.addEventListener("dragover",s=>{s.preventDefault();const r=this.editor.querySelector(".dragging");if(!r)return;const l=this.getDragAfterElement(this.editor,s.clientY);l==null?this.editor.appendChild(r):this.editor.insertBefore(r,l)}),this.editor.addEventListener("drop",s=>{s.preventDefault();const r=Array.from(this.editor.children).filter(l=>l.classList.contains("editor-section")).map(l=>l.dataset.sectionId);this.pageData.order=r}),i.addEventListener("click",()=>{this.selected={type:"section",id:e.id};const s=k(e.type);s&&this.showSettings(s,e.settings)})}getDragAfterElement(e,t,n="editor-section"){return[...e.querySelectorAll(`.${n}:not(.dragging)`)].reduce((s,r)=>{const l=r.getBoundingClientRect(),a=t-l.top-l.height/2;return a<0&&a>s.offset?{offset:a,element:r}:s},{offset:Number.NEGATIVE_INFINITY,element:null}).element}renderBlocks({blocks:e}){const t=document.createElement("div");return t.className="editor-blocks",e?.forEach(n=>{const i=x[n.type];if(!i){console.warn(`No block renderer for: ${n.type}`);return}const s=i(n);s.classList.add("editor-block"),s.dataset.blockId=n.id,s.dataset.blockType=n.type,t.appendChild(s),s.addEventListener("click",r=>{r.stopPropagation(),this.selected={type:"block",id:n.id};const l=f(n.type);l&&this.showSettings(l,n.settings)}),s.draggable=!0,this.setupSectionDrag(s),t.addEventListener("dragover",r=>{r.preventDefault();const l=t.querySelector(".dragging");if(!l)return;const a=this.getDragAfterElement(t,r.clientY,"editor-block");a==null?t.appendChild(l):t.insertBefore(l,a)}),t.addEventListener("drop",r=>{r.preventDefault();const l=s.dataset.sectionId,a=this.pageData.sections[l];if(!a)return;const d=Array.from(t.children).filter(p=>p.classList.contains("editor-block")).map(p=>p.dataset.blockId);a.blocks=d.map(p=>a.blocks.find(u=>u.id===p))})}),t}setupSectionDrag(e){e.draggable=!0,e.addEventListener("dragstart",t=>{e.classList.add("dragging"),t.dataTransfer?.setData("text/plain",e.dataset.sectionId)}),e.addEventListener("dragend",()=>{e.classList.remove("dragging")})}showSettings(e,t){this.settingsContainer.innerHTML="";const n=this.renderSettingsPanel(t,e.settingsSchema,e.defaultSettings);this.settingsContainer.appendChild(n)}renderSettingsPanel(e,t,n){const i=document.createElement("div");return i.className="editor-settings-panel",t&&t.forEach(s=>{const r=document.createElement("div");r.className="editor-settings-field";const l=document.createElement("label");l.textContent=s.label,l.htmlFor=s.key;let a;switch(s.type){case"text":case"number":case"color":a=document.createElement("input"),a.type=s.type,s.type==="number"&&(s.min!==void 0&&(a.min=String(s.min)),s.max!==void 0&&(a.max=String(s.max)),s.step!==void 0&&(a.step=String(s.step))),a.value=e[s.key]??n?.[s.key]??"";break;case"boolean":a=document.createElement("input"),a.type="checkbox",a.checked=!!(e[s.key]??n?.[s.key]??!1);break;case"select":a=document.createElement("select"),s.options?.forEach(d=>{const p=document.createElement("option");p.value=d,p.textContent=d,e[s.key]===d&&(p.selected=!0),a.appendChild(p)});break}a.addEventListener("input",()=>{let d;s.type==="boolean"?d=a.checked:s.type==="number"?d=Number(a.value):d=a.value,e[s.key]=d,this.refreshSelected()}),a.id=s.key,r.appendChild(l),r.appendChild(a),i.appendChild(r),this.refreshSelected()}),i}refreshSelected(){if(!this.selected)return;const e=(t,n)=>{const i=k(t.type);if(!i)return;const s=i.renderer(t,this);s.classList.add("editor-section"),s.dataset.sectionId=t.id,s.dataset.sectionType=t.type,this.setupSectionDrag(s),s.addEventListener("click",()=>{this.selected={type:"section",id:t.id},this.showSettings(i,t.settings)});const r=s.querySelector(".editor-blocks");t.blocks&&r&&(r.innerHTML="",t.blocks.forEach(l=>{const a=f(l.type);if(!a)return;const d=a.renderer(l);d.classList.add("editor-block"),d.dataset.blockId=l.id,d.dataset.blockType=l.type,this.setupSectionDrag(d),d.addEventListener("click",p=>{p.stopPropagation(),this.selected={type:"block",id:l.id},this.showSettings(a,l.settings)}),r.appendChild(d)})),n.replaceWith(s)};if(this.selected.type==="section"){const t=this.editor.querySelector(`[data-section-id="${this.selected.id}"]`);if(!t)return;const n=this.findSectionById(this.selected.id);if(!n)return;e(n,t)}if(this.selected.type==="block")for(const t of Object.values(this.pageData.sections)){const n=t.blocks?.find(d=>d.id===this.selected.id);if(!n)continue;const i=this.editor.querySelector(`[data-section-id="${t.id}"]`);if(!i)return;const s=i.querySelector(".editor-blocks");if(!s)return;const r=s.querySelector(`[data-block-id="${n.id}"]`);if(!r)return;const l=f(n.type);if(!l)return;const a=l.renderer(n);a.classList.add("editor-block"),a.dataset.blockId=n.id,a.dataset.blockType=n.type,this.setupSectionDrag(a),a.addEventListener("click",d=>{d.stopPropagation(),this.selected={type:"block",id:n.id},this.showSettings(l,n.settings)}),r.replaceWith(a);break}}findSectionById(e){return Object.values(this.pageData.sections).find(t=>t.id===e)}findBlockById(e){for(const t of Object.values(this.pageData.sections)){const n=t.blocks?.find(i=>i.id===e);if(n)return n}}initChooser(){const e=document.getElementById("section-list"),t=document.getElementById("block-list");e.innerHTML="",t.innerHTML="",T().forEach(n=>{const i=this.createPluginItem("section",n.type);e.appendChild(i)}),D().forEach(n=>{const i=this.createPluginItem("block",n.type);t.appendChild(i)}),this.setupDropZones()}createPluginItem(e,t){const n=document.createElement("div");return n.className="plugin-item",n.textContent=t.replace(/-/g," "),n.draggable=!0,n.addEventListener("dragstart",i=>{i.dataTransfer?.setData("type",e),i.dataTransfer?.setData("plugin",t)}),n}setupDropZones(){this.editor.addEventListener("dragover",e=>{e.preventDefault()}),this.editor.addEventListener("drop",e=>{e.preventDefault();const t=e.dataTransfer?.getData("type"),n=e.dataTransfer?.getData("plugin");if(!(!t||!n)){if(t==="section"){this.addSection(n);return}if(t==="block"){const s=e.target.closest("[data-section-id]");if(!s)return;const r=s.dataset.sectionId;this.addBlock(r,n)}}})}addSection(e){const t=k(e);if(!t)return;const n=`section-${Date.now()}`,i={id:n,type:t.type,settings:{},blocks:[]};this.pageData.sections[n]=i,this.pageData.order.push(n);const s=t.renderer(i,this);s.classList.add("editor-section"),s.dataset.sectionId=n,s.dataset.sectionType=t.type,this.editor.appendChild(s),this.selected={type:"section",id:n},this.showSettings(t,i.settings),this.setupSectionDrag(s)}addBlock(e,t){const n=f(t);if(!n)return;const i=this.pageData.sections[e];if(!i)return;const s=`block-${Date.now()}`,r={id:s,type:n.type,settings:{}};i.blocks=i.blocks||[],i.blocks.push(r);const l=n.renderer(r);l.classList.add("editor-block"),l.dataset.blockId=s,l.dataset.blockType=n.type,l.addEventListener("click",p=>{p.stopPropagation(),this.selected={type:"block",id:s},this.showSettings(n,r.settings)}),this.setupSectionDrag(l);const a=this.editor.querySelector(`[data-section-id="${e}"]`);let d=a.querySelector(".editor-blocks");d||(d=this.renderBlocks({blocks:[]}),a.appendChild(d)),d.appendChild(l),this.selected={type:"block",id:s},this.showSettings(n,r.settings)}deleteSection(e){const t=this.editor.querySelector(`[data-section-id="${e}"]`);t&&t.remove(),delete this.pageData.sections[e],this.pageData.order=this.pageData.order.filter(n=>n!==e),this.selected?.type==="section"&&this.selected.id===e&&(this.selected=null,this.settingsContainer.innerHTML="")}deleteBlock(e){for(const t of Object.values(this.pageData.sections)){const n=t.blocks?.findIndex(r=>r.id===e);if(n===void 0||n===-1)continue;t.blocks.splice(n,1);const i=this.editor.querySelector(`[data-section-id="${t.id}"]`);if(!i)return;const s=i.querySelector(`[data-block-id="${e}"]`);s&&s.remove(),this.selected?.type==="block"&&this.selected.id===e&&(this.selected=null,this.settingsContainer.innerHTML="");break}}deleteSelected(){this.selected&&(this.selected.type==="section"?this.deleteSection(this.selected.id):this.selected.type==="block"&&this.deleteBlock(this.selected.id))}}class c{static BaseStyleSchema=[{key:"color",label:"Color",type:"color"},{key:"backgroundColor",label:"Background Color",type:"color"},{key:"height",label:"Height",type:"text"},{key:"width",label:"Width",type:"text"},{key:"paddingTop",label:"Padding Top",type:"text"},{key:"paddingRight",label:"Padding Right",type:"text"},{key:"paddingBottom",label:"Padding Bottom",type:"text"},{key:"paddingLeft",label:"Padding Left",type:"text"},{key:"marginTop",label:"Margin Top",type:"text"},{key:"marginRight",label:"Margin Right",type:"text"},{key:"marginBottom",label:"Margin Bottom",type:"text"},{key:"marginLeft",label:"Margin Left",type:"text"},{key:"borderRadius",label:"Border Radius",type:"text"},{key:"borderWidth",label:"Border Width",type:"text"},{key:"borderColor",label:"Border Color",type:"color"},{key:"display",label:"Display",type:"select",options:["block","flex","inline","inline-block","none"]},{key:"position",label:"Position",type:"select",options:["static","relative","absolute","fixed","sticky"]},{key:"top",label:"Top",type:"text"},{key:"right",label:"Right",type:"text"},{key:"left",label:"Left",type:"text"},{key:"bottom",label:"Bottom",type:"text"},{key:"font",label:"Font",type:"select",options:["none","Arial","Helvetica","Times New Roman"]},{key:"fontSize",label:"Font Size",type:"select",options:["none","12px","14px","16px","18px","20px"]},{key:"fontWeight",label:"Font Weight",type:"select",options:["none","normal","bold","bolder","lighter"]},{key:"fontStyle",label:"Font Style",type:"select",options:["none","normal","italic","oblique"]},{key:"lineHeight",label:"Line Height",type:"select",options:["none","1","1.5","2","2.5"]},{key:"textAlign",label:"Text Align",type:"select",options:["none","left","center","right"]},{key:"textDecoration",label:"Text Decoration",type:"select",options:["none","underline","overline","line-through"]},{key:"textTransform",label:"Text Transform",type:"select",options:["none","uppercase","lowercase","capitalize"]},{key:"letterSpacing",label:"Letter Spacing",type:"text"},{key:"float",label:"Float",type:"select",options:["none","left","right"]}];static applyBaseStyles(e,t){t.color&&(e.style.color=t.color),t.backgroundColor&&(e.style.backgroundColor=t.backgroundColor),t.height&&(e.style.height=`${t.height}`),t.width&&(e.style.width=`${t.width}`),t.paddingTop&&(e.style.paddingTop=`${t.paddingTop}`),t.paddingRight&&(e.style.paddingRight=`${t.paddingRight}`),t.paddingBottom&&(e.style.paddingBottom=`${t.paddingBottom}`),t.paddingLeft&&(e.style.paddingLeft=`${t.paddingLeft}`),t.marginTop&&(e.style.marginTop=`${t.marginTop}`),t.marginRight&&(e.style.marginRight=`${t.marginRight}`),t.marginBottom&&(e.style.marginBottom=`${t.marginBottom}`),t.marginLeft&&(e.style.marginLeft=`${t.marginLeft}`),t.borderRadius&&(e.style.borderRadius=`${t.borderRadius}`),t.borderWidth&&(e.style.borderWidth=`${t.borderWidth}`),t.borderColor&&(e.style.borderColor=t.borderColor),t.display&&(e.style.display=t.display),t.position&&(e.style.position=t.position),t.top&&(e.style.top=t.top),t.right&&(e.style.right=t.right),t.left&&(e.style.left=t.left),t.bottom&&(e.style.bottom=t.bottom),t.font&&(e.style.fontFamily=t.font),t.fontSize&&(e.style.fontSize=t.fontSize),t.fontWeight&&(e.style.fontWeight=t.fontWeight),t.textDecoration&&(e.style.textDecoration=t.textDecoration),t.textTransform&&(e.style.textTransform=t.textTransform),t.letterSpacing&&(e.style.letterSpacing=t.letterSpacing),t.lineHeight&&(e.style.lineHeight=t.lineHeight),t.textAlign&&(e.style.textAlign=t.textAlign)}}const N={name:"Core Blocks",blocks:[{settingsSchema:[{key:"text",label:"Text",type:"text"},...c.BaseStyleSchema],type:"text",renderer:o=>{const e=document.createElement("p");return c.applyBaseStyles(e,o.settings),e.textContent=o.settings.text||"Text block",e}},{defaultSettings:{src:"https://www.w3schools.com/html/mov_bbb.mp4",controls:!0},settingsSchema:[{key:"src",label:"Source",type:"text"},...c.BaseStyleSchema],type:"iframe",renderer:o=>{const e=document.createElement("iframe");return c.applyBaseStyles(e,o.settings),e.src=o.settings.src||"https://www.w3schools.com/html/mov_bbb.mp4",e}},{defaultSettings:{src:"https://www.w3schools.com/html/mov_bbb.mp4",controls:!0},settingsSchema:[{key:"src",label:"Source",type:"text"},{key:"controls",label:"Controls",type:"boolean"},{key:"autoplay",label:"Autoplay",type:"boolean"},{key:"muted",label:"Muted",type:"boolean"},{key:"loop",label:"Loop",type:"boolean"},...c.BaseStyleSchema],type:"video",renderer:o=>{const e=document.createElement("video");return c.applyBaseStyles(e,o.settings),e.src=o.settings.src||"https://www.w3schools.com/html/mov_bbb.mp4",e.controls=o.settings.controls||!0,e.autoplay=o.settings.autoplay||!1,e.muted=o.settings.muted||!1,e.loop=o.settings.loop||!1,e}},{defaultSettings:{src:"https://www.w3schools.com/html/mov_bbb.mp4",controls:!0},settingsSchema:[{key:"src",label:"Source",type:"text"},{key:"controls",label:"Controls",type:"boolean"},{key:"autoplay",label:"Autoplay",type:"boolean"},{key:"muted",label:"Muted",type:"boolean"},{key:"loop",label:"Loop",type:"boolean"},...c.BaseStyleSchema],type:"audio",renderer:o=>{const e=document.createElement("audio");return c.applyBaseStyles(e,o.settings),e.src=o.settings.src||"https://www.w3schools.com/html/mov_bbb.mp4",e.controls=o.settings.controls||!0,e.autoplay=o.settings.autoplay||!1,e.muted=o.settings.muted||!1,e.loop=o.settings.loop||!1,e}},{settingsSchema:[{key:"placeholder",label:"Placeholder",type:"text"},{key:"value",label:"Value",type:"text"},{key:"disabled",label:"Disabled",type:"boolean"},{key:"required",label:"Required",type:"boolean"},{key:"autofocus",label:"Autofocus",type:"boolean"},{key:"minlength",label:"Min Length",type:"number"},{key:"maxlength",label:"Max Length",type:"number"},{key:"cols",label:"Columns",type:"number"},{key:"rows",label:"Rows",type:"number"},...c.BaseStyleSchema],type:"textarea",renderer:o=>{const e=document.createElement("textarea");return c.applyBaseStyles(e,o.settings),e.placeholder=o.settings.placeholder||"Write something...",e.value=o.settings.value||"",e.disabled=o.settings.disabled||!1,e.required=o.settings.required||!1,e.autofocus=o.settings.autofocus||!1,e.minLength=o.settings.minlength||0,e.maxLength=o.settings.maxlength||1/0,e.cols=o.settings.cols||30,e.rows=o.settings.rows||10,e}},{settingsSchema:[{key:"placeholder",label:"Placeholder",type:"text"},{key:"value",label:"Value",type:"text"},{key:"type",label:"Type",type:"select",options:["text","email","password","number","date","time","datetime-local","color","range","file","search","tel","url","week","month","hidden","image","submit","reset","button"]},{key:"disabled",label:"Disabled",type:"boolean"},{key:"required",label:"Required",type:"boolean"},{key:"autofocus",label:"Autofocus",type:"boolean"},{key:"minlength",label:"Min Length",type:"number"},{key:"maxlength",label:"Max Length",type:"number"},...c.BaseStyleSchema],type:"input",renderer:o=>{const e=document.createElement("input");return c.applyBaseStyles(e,o.settings),e.placeholder=o.settings.placeholder||"Placeholder",e.value=o.settings.value||"",e.type=o.settings.type||"text",e.disabled=o.settings.disabled||!1,e.required=o.settings.required||!1,e.autofocus=o.settings.autofocus||!1,e.minLength=o.settings.minlength||0,e.maxLength=o.settings.maxlength||50,e}},{defaultSettings:{src:"https://download.logo.wine/logo/Rust_(video_game)/Rust_(video_game)-Logo.wine.png"},settingsSchema:[{key:"src",label:"Source",type:"text"},{key:"alt",label:"Alternative Text",type:"text"},...c.BaseStyleSchema],type:"image",renderer:o=>{const e=document.createElement("img");return c.applyBaseStyles(e,o.settings),e.src=o.settings.src||"https://download.logo.wine/logo/Rust_(video_game)/Rust_(video_game)-Logo.wine.png",e.alt=o.settings.alt||"",e.style.maxWidth="40%",e}},{type:"link",defaultSettings:{label:"Click me",href:"#"},settingsSchema:[{key:"label",label:"Text",type:"text"},{key:"href",label:"URL",type:"text"},{key:"target",label:"Target",type:"select",options:["_self","_blank","_parent","_top"]},...c.BaseStyleSchema],renderer:o=>{const e=document.createElement("a");return c.applyBaseStyles(e,o.settings),e.textContent=o.settings.label??"Click me",e.href=o.settings.href||"#",e.target=o.settings.target||"_self",e.className="link",e}},{type:"button",settingsSchema:[{key:"label",label:"Text",type:"text"},...c.BaseStyleSchema],defaultSettings:{label:"Click me"},renderer:o=>{const e=document.createElement("button");return c.applyBaseStyles(e,o.settings),e.textContent=o.settings.label||"Button",e.className="btn",e}}]},I={name:"Core Sections",sections:[{type:"container",settingsSchema:[{key:"customTitle",label:"Custom Title",type:"text"},...c.BaseStyleSchema],renderer:(o,e)=>{const t=document.createElement("section");if(t.className="container",c.applyBaseStyles(t,o.settings),o.settings.customTitle){const n=document.createElement("h2");n.textContent=o.settings.customTitle,t.appendChild(n)}return t.appendChild(e.renderBlocks({blocks:o.blocks})),t}},{type:"rich-text",settingsSchema:[{key:"heading",label:"Heading",type:"text"},...c.BaseStyleSchema],renderer:(o,e)=>{const t=document.createElement("section");if(t.className="rich-text",c.applyBaseStyles(t,o.settings),o.settings.heading){const n=document.createElement("h2");n.textContent=o.settings.heading,t.appendChild(n)}return t.appendChild(e.renderBlocks({blocks:o.blocks})),t}},{type:"featured-collection",settingsSchema:[{key:"title",label:"Title",type:"text"},{key:"textContent",label:"Description",type:"text"},...c.BaseStyleSchema],renderer:o=>{const e=document.createElement("section");e.className="featured-collection",c.applyBaseStyles(e,o.settings);const t=document.createElement("h2");t.textContent=o.settings.title||"Featured Collection",e.appendChild(t);const n=document.createElement("div");return n.textContent=o.settings.textContent||"ðŸ›’ Product preview (editor only)",n.style.opacity="0.6",e.appendChild(n),e}},{type:"contact-form",settingsSchema:[{key:"heading",label:"Text",type:"text"},{key:"buttonText",label:"Button Text",type:"text"},{key:"namePlaceholder",label:"Name Placeholder",type:"text"},{key:"emailPlaceholder",label:"Email Placeholder",type:"text"},{key:"messagePlaceholder",label:"Message Placeholder",type:"text"},{key:"buttonColor",label:"Button Color",type:"color"},{key:"buttonBackgroundColor",label:"Button Background Color",type:"color"},{key:"buttonBorderColor",label:"Button Border Color",type:"color"},...c.BaseStyleSchema],renderer:o=>{const e=document.createElement("section");e.className="contact-form",c.applyBaseStyles(e,o.settings);const t=document.createElement("h2");t.textContent=o.settings.heading||"Contact Us",e.appendChild(t);const n=document.createElement("form"),i=document.createElement("input");i.type="text",i.placeholder=o.settings.namePlaceholder||"Name",n.appendChild(i),n.appendChild(document.createElement("br"));const s=document.createElement("input");s.type="email",s.placeholder=o.settings.emailPlaceholder||"Email",n.appendChild(s),n.appendChild(document.createElement("br"));const r=document.createElement("textarea");r.placeholder=o.settings.messagePlaceholder||"Message",n.appendChild(r),n.appendChild(document.createElement("br"));const l=document.createElement("button");return l.type="submit",l.textContent=o.settings.buttonText||"Send",l.style.color=o.settings.buttonColor||"#fff",l.style.backgroundColor=o.settings.buttonBackgroundColor||"#007bff",l.style.borderColor=o.settings.buttonBorderColor||"#007bff",n.appendChild(l),e.appendChild(n),e}}]},$={name:"Quote Block",blocks:[{type:"quote",settingsSchema:[{key:"text",label:"Text",type:"text"},...c.BaseStyleSchema],renderer:o=>{const e=document.createElement("blockquote");return c.applyBaseStyles(e,o.settings),e.textContent=o.settings.text||"Quote...",e.style.borderLeft="4px solid #000",e.style.paddingLeft="12px",e.style.opacity="0.8",e},defaultSettings:{text:"This is a quote"}}]},B=new M(document.getElementById("app"));v(I);v(N);v($);B.load(w);B.initChooser();
