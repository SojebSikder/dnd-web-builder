(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();const B={order:["header","content"],sections:{header:{id:"header",type:"container",settings:{}},content:{id:"content",type:"rich-text",settings:{heading:"About Us"},blocks:[{id:"b1",type:"text",settings:{text:"We are building a modern block editor."}},{id:"b4",type:"link",settings:{label:"Contact",href:"/contact"}},{id:"b5",type:"button",settings:{label:"Click me"}},{id:"b6",type:"quote",settings:{text:"Hello world, this is quote"}}]}}},E={},v={},S={},C={};function L(s){s.blocks?.forEach(e=>{if(S[e.type]){console.warn(`Block already registered: ${e.type}`);return}S[e.type]=e.renderer,E[e.type]=e}),s.sections?.forEach(e=>{if(C[e.type]){console.warn(`Section already registered: ${e.type}`);return}C[e.type]=e.renderer,v[e.type]=e}),console.log(`Plugin loaded: ${s.name}`)}function k(s){return E[s]}function x(s){return v[s]}function T(){return Object.values(v)}function D(){return Object.values(E)}class P{createModal(e){const{title:t="Modal",width:n="80%",height:l="90%",content:o,actions:r=[]}=e,a=document.createElement("div");a.classList.add("modal-container"),Object.assign(a.style,{position:"fixed",inset:"0",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"9999"});const i=document.createElement("div");i.className="modal-box",Object.assign(i.style,{width:n,height:l,backgroundColor:"#fff",borderRadius:"8px",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.25)"}),a.appendChild(i),document.body.appendChild(a);const d=document.createElement("div");Object.assign(d.style,{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 16px",backgroundColor:"#f8f8f8",borderBottom:"1px solid #ddd"});const p=document.createElement("span");p.textContent=t;const y=document.createElement("div");y.style.display="flex",y.style.gap="8px",r.forEach(g=>{const f=document.createElement("button");f.classList.add("btn","btn-primary","modal-actions"),f.textContent=g.label,g.className&&f.classList.add(g.className),f.onclick=()=>g.onClick(b),y.appendChild(f)});const u=document.createElement("button");u.classList.add("btn","btn-primary","modal-actions"),u.textContent="Close",d.appendChild(p),d.appendChild(y),d.appendChild(u),i.appendChild(d);const h=document.createElement("div");Object.assign(h.style,{flex:"1",padding:"16px",overflowY:"auto"}),h.appendChild(o),i.appendChild(h);const b=()=>{document.removeEventListener("keydown",m),a.remove()},m=g=>{g.key==="Escape"&&b()};return u.onclick=b,a.onclick=g=>{g.target===a&&b()},document.addEventListener("keydown",m),{close:b}}}class N{app;editor;settingsContainer;_ui;selected=null;designMode=!0;pageData;constructor(e){this.app=e,this.buildUI(),this.editor.addEventListener("click",t=>{if(!this.designMode)return;const n=t.target;n.closest("a")&&(t.preventDefault(),t.stopPropagation()),n.closest("button")&&(t.preventDefault(),t.stopPropagation())}),this.editor.addEventListener("submit",t=>{this.designMode&&(t.preventDefault(),t.stopPropagation())})}ui(){return this._ui||(this._ui=new P),this._ui}buildUI(){const e=document.createElement("div");e.classList.add("layout");const t=document.createElement("aside");t.id="sidebar";const n=document.createElement("h3");n.textContent="Sections";const l=document.createElement("div");l.id="section-list",l.classList.add("section-list");const o=document.createElement("h3");o.textContent="Blocks";const r=document.createElement("div");r.id="block-list",r.classList.add("section-list");const a=document.createElement("div");a.id="toolbar";const i=document.createElement("button");i.classList.add("btn"),i.id="delete-btn",i.textContent="Delete Selected";const d=document.createElement("button");d.classList.add("btn"),d.id="design-mode-btn",d.textContent="Design Mode";const p=document.createElement("button");p.classList.add("btn"),p.id="show-json-btn",p.textContent="Show JSON";const y=document.createElement("div");y.classList.add("main-content");const u=document.createElement("div");u.id="editor";const h=document.createElement("div");h.id="settings-panel",y.appendChild(u),y.appendChild(h),a.appendChild(i),a.appendChild(d),a.appendChild(p),t.appendChild(a),t.appendChild(n),t.appendChild(l),t.appendChild(o),t.appendChild(r),e.appendChild(t),e.appendChild(y),this.app.appendChild(e),this.editor=u,this.settingsContainer=h,d.addEventListener("click",()=>{this.setDesignMode(!this.designMode),d.textContent=this.designMode?"Design Mode":"Preview Mode"}),i.addEventListener("click",()=>{this.deleteSelected()}),p.addEventListener("click",()=>{this.showJSONModal()})}getJSON(){return JSON.stringify(this.pageData,null,2)}showJSONModal(){const e=this.getJSON(),t=document.createElement("pre");t.classList.add("json-modal"),t.innerHTML=this.syntaxHighlightWithLineNumbers(e),this.ui().createModal({title:"JSON Viewer",content:t,width:"50%",actions:[{label:"Copy",className:"btn-secondary",onClick:async()=>{await navigator.clipboard.writeText(e)}}]})}syntaxHighlightWithLineNumbers(e){return e=JSON.stringify(JSON.parse(e),null,2),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(\.\d+)?([eE][+-]?\d+)?)/g,n=>{let l="json-number";return/^"/.test(n)?l=/:$/.test(n)?"json-key":"json-string":/true|false/.test(n)?l="json-boolean":/null/.test(n)&&(l="json-null"),`<span class="${l}">${n}</span>`}).split(`
`).map((n,l)=>`<span class="json-line"><span class="line-number">${l+1}</span> ${n}</span>`).join(`
`)}setDesignMode(e){this.designMode=e,e?this.editor.classList.add("design-mode"):this.editor.classList.remove("design-mode")}load(e){this.pageData=e,this.editor.innerHTML="",this.pageData.order.forEach(t=>{const n=this.pageData.sections[t];n&&this.loadSection(n,this)})}loadSection(e,t){const n=C[e.type];if(!n){console.warn(`No renderer for section: ${e.type}`);return}const l=n(e,t);l.classList.add("editor-section"),l.dataset.sectionId=e.id,l.dataset.sectionType=e.type,this.editor.appendChild(l),l.draggable=!0,this.setupSectionDrag(l),this.editor.addEventListener("dragover",o=>{o.preventDefault();const r=this.editor.querySelector(".dragging");if(!r)return;const a=this.getDragAfterElement(this.editor,o.clientY);a==null?this.editor.appendChild(r):this.editor.insertBefore(r,a)}),this.editor.addEventListener("drop",o=>{o.preventDefault();const r=Array.from(this.editor.children).filter(a=>a.classList.contains("editor-section")).map(a=>a.dataset.sectionId);this.pageData.order=r}),l.addEventListener("click",()=>{this.selected={type:"section",id:e.id};const o=x(e.type);o&&this.showSettings(o,e.settings)})}getDragAfterElement(e,t,n="editor-section"){return[...e.querySelectorAll(`.${n}:not(.dragging)`)].reduce((o,r)=>{const a=r.getBoundingClientRect(),i=t-a.top-a.height/2;return i<0&&i>o.offset?{offset:i,element:r}:o},{offset:Number.NEGATIVE_INFINITY,element:null}).element}renderBlocks({blocks:e}){const t=document.createElement("div");return t.className="editor-blocks",e?.forEach(n=>{const l=S[n.type];if(!l){console.warn(`No block renderer for: ${n.type}`);return}const o=l(n);o.classList.add("editor-block"),o.dataset.blockId=n.id,o.dataset.blockType=n.type,t.appendChild(o),o.addEventListener("click",r=>{r.stopPropagation(),this.selected={type:"block",id:n.id};const a=k(n.type);a&&this.showSettings(a,n.settings)}),o.draggable=!0,this.setupSectionDrag(o),t.addEventListener("dragover",r=>{r.preventDefault();const a=t.querySelector(".dragging");if(!a)return;const i=this.getDragAfterElement(t,r.clientY,"editor-block");i==null?t.appendChild(a):t.insertBefore(a,i)}),t.addEventListener("drop",r=>{r.preventDefault();const a=o.dataset.sectionId,i=this.pageData.sections[a];if(!i)return;const d=Array.from(t.children).filter(p=>p.classList.contains("editor-block")).map(p=>p.dataset.blockId);i.blocks=d.map(p=>i.blocks.find(y=>y.id===p))})}),t}setupSectionDrag(e){e.draggable=!0,e.addEventListener("dragstart",t=>{e.classList.add("dragging"),t.dataTransfer?.setData("text/plain",e.dataset.sectionId)}),e.addEventListener("dragend",()=>{e.classList.remove("dragging")})}showSettings(e,t){this.settingsContainer.innerHTML="";const n=this.renderSettingsPanel(t,e.settingsSchema,e.defaultSettings);this.settingsContainer.appendChild(n)}renderSettingsPanel(e,t,n){const l=document.createElement("div");return l.className="editor-settings-panel",t&&t.forEach(o=>{const r=document.createElement("div");r.className="editor-settings-field";const a=document.createElement("label");a.textContent=o.label,a.htmlFor=o.key;let i;switch(o.hidden&&(r.style.display="none"),o.type){case"text":case"number":case"color":i=document.createElement("input"),i.type=o.type,o.type==="number"&&(o.min!==void 0&&(i.min=String(o.min)),o.max!==void 0&&(i.max=String(o.max)),o.step!==void 0&&(i.step=String(o.step))),i.value=e[o.key]??n?.[o.key]??"";break;case"textarea":i=document.createElement("textarea"),i.value=e[o.key]??n?.[o.key]??"";break;case"boolean":i=document.createElement("input"),i.type="checkbox",i.checked=!!(e[o.key]??n?.[o.key]??!1);break;case"select":i=document.createElement("select"),o.options?.forEach(d=>{const p=document.createElement("option");p.value=d,p.textContent=d,e[o.key]===d&&(p.selected=!0),i.appendChild(p)});break}i.addEventListener("input",()=>{let d;o.type==="boolean"?d=i.checked:o.type==="number"?d=Number(i.value):d=i.value,e[o.key]=d,this.refreshSelected()}),i.id=o.key,r.appendChild(a),r.appendChild(i),l.appendChild(r),this.refreshSelected()}),l}refreshSelected(){if(!this.selected)return;const e=(t,n)=>{const l=x(t.type);if(!l)return;const o=l.renderer(t,this);o.classList.add("editor-section"),o.dataset.sectionId=t.id,o.dataset.sectionType=t.type,this.setupSectionDrag(o),o.addEventListener("click",()=>{this.selected={type:"section",id:t.id},this.showSettings(l,t.settings)});const r=o.querySelector(".editor-blocks");t.blocks&&r&&(r.innerHTML="",t.blocks.forEach(a=>{const i=k(a.type);if(!i)return;const d=i.renderer(a);d.classList.add("editor-block"),d.dataset.blockId=a.id,d.dataset.blockType=a.type,this.setupSectionDrag(d),d.addEventListener("click",p=>{p.stopPropagation(),this.selected={type:"block",id:a.id},this.showSettings(i,a.settings)}),r.appendChild(d)})),n.replaceWith(o)};if(this.selected.type==="section"){const t=this.editor.querySelector(`[data-section-id="${this.selected.id}"]`);if(!t)return;const n=this.findSectionById(this.selected.id);if(!n)return;e(n,t)}if(this.selected.type==="block")for(const t of Object.values(this.pageData.sections)){const n=t.blocks?.find(d=>d.id===this.selected.id);if(!n)continue;const l=this.editor.querySelector(`[data-section-id="${t.id}"]`);if(!l)return;const o=l.querySelector(".editor-blocks");if(!o)return;const r=o.querySelector(`[data-block-id="${n.id}"]`);if(!r)return;const a=k(n.type);if(!a||a?.isDynamic)return;const i=a.renderer(n);i.classList.add("editor-block"),i.dataset.blockId=n.id,i.dataset.blockType=n.type,this.setupSectionDrag(i),i.addEventListener("click",d=>{d.stopPropagation(),this.selected={type:"block",id:n.id},this.showSettings(a,n.settings)}),r.replaceWith(i);break}}findSectionById(e){return Object.values(this.pageData.sections).find(t=>t.id===e)}findBlockById(e){for(const t of Object.values(this.pageData.sections)){const n=t.blocks?.find(l=>l.id===e);if(n)return n}}initChooser(){const e=document.getElementById("section-list"),t=document.getElementById("block-list");e.innerHTML="",t.innerHTML="",T().forEach(n=>{const l=this.createPluginItem("section",n.type);e.appendChild(l)}),D().forEach(n=>{const l=this.createPluginItem("block",n.type);t.appendChild(l)}),this.setupDropZones()}createPluginItem(e,t){const n=document.createElement("div");return n.className="plugin-item",n.textContent=t.replace(/-/g," "),n.draggable=!0,n.addEventListener("dragstart",l=>{l.dataTransfer?.setData("type",e),l.dataTransfer?.setData("plugin",t)}),n}setupDropZones(){this.editor.addEventListener("dragover",e=>{e.preventDefault()}),this.editor.addEventListener("drop",e=>{e.preventDefault();const t=e.dataTransfer?.getData("type"),n=e.dataTransfer?.getData("plugin");if(!(!t||!n)){if(t==="section"){this.addSection(n);return}if(t==="block"){const o=e.target.closest("[data-section-id]");if(!o)return;const r=o.dataset.sectionId;this.addBlock(r,n)}}})}addSection(e){const t=x(e);if(!t)return;const n=`section-${Date.now()}`,l={id:n,type:t.type,settings:{},blocks:[]};this.pageData.sections[n]=l,this.pageData.order.push(n);const o=t.renderer(l,this);o.classList.add("editor-section"),o.dataset.sectionId=n,o.dataset.sectionType=t.type,this.editor.appendChild(o),this.selected={type:"section",id:n},this.showSettings(t,l.settings),this.setupSectionDrag(o)}addBlock(e,t){const n=k(t);if(!n)return;const l=this.pageData.sections[e];if(!l)return;const o=`block-${Date.now()}`,r={id:o,type:n.type,settings:{}};l.blocks=l.blocks||[],l.blocks.push(r);const a=n.renderer(r);a.classList.add("editor-block"),a.dataset.blockId=o,a.dataset.blockType=n.type,a.addEventListener("click",p=>{p.stopPropagation(),this.selected={type:"block",id:o},this.showSettings(n,r.settings)}),this.setupSectionDrag(a);const i=this.editor.querySelector(`[data-section-id="${e}"]`);let d=i.querySelector(".editor-blocks");d||(d=this.renderBlocks({blocks:[]}),i.appendChild(d)),d.appendChild(a),this.selected={type:"block",id:o},this.showSettings(n,r.settings)}deleteSection(e){const t=this.editor.querySelector(`[data-section-id="${e}"]`);t&&t.remove(),delete this.pageData.sections[e],this.pageData.order=this.pageData.order.filter(n=>n!==e),this.selected?.type==="section"&&this.selected.id===e&&(this.selected=null,this.settingsContainer.innerHTML="")}deleteBlock(e){for(const t of Object.values(this.pageData.sections)){const n=t.blocks?.findIndex(r=>r.id===e);if(n===void 0||n===-1)continue;t.blocks.splice(n,1);const l=this.editor.querySelector(`[data-section-id="${t.id}"]`);if(!l)return;const o=l.querySelector(`[data-block-id="${e}"]`);o&&o.remove(),this.selected?.type==="block"&&this.selected.id===e&&(this.selected=null,this.settingsContainer.innerHTML="");break}}deleteSelected(){this.selected&&(this.selected.type==="section"?this.deleteSection(this.selected.id):this.selected.type==="block"&&this.deleteBlock(this.selected.id))}}class c{static BaseStyleSchema=[{key:"color",label:"Color",type:"color"},{key:"backgroundColor",label:"Background Color",type:"color"},{key:"height",label:"Height",type:"text"},{key:"width",label:"Width",type:"text"},{key:"paddingTop",label:"Padding Top",type:"text"},{key:"paddingRight",label:"Padding Right",type:"text"},{key:"paddingBottom",label:"Padding Bottom",type:"text"},{key:"paddingLeft",label:"Padding Left",type:"text"},{key:"marginTop",label:"Margin Top",type:"text"},{key:"marginRight",label:"Margin Right",type:"text"},{key:"marginBottom",label:"Margin Bottom",type:"text"},{key:"marginLeft",label:"Margin Left",type:"text"},{key:"borderRadius",label:"Border Radius",type:"text"},{key:"borderWidth",label:"Border Width",type:"text"},{key:"borderColor",label:"Border Color",type:"color"},{key:"display",label:"Display",type:"select",options:["block","flex","inline","inline-block","none"]},{key:"position",label:"Position",type:"select",options:["static","relative","absolute","fixed","sticky"]},{key:"top",label:"Top",type:"text"},{key:"right",label:"Right",type:"text"},{key:"left",label:"Left",type:"text"},{key:"bottom",label:"Bottom",type:"text"},{key:"font",label:"Font",type:"select",options:["none","Arial","Helvetica","Times New Roman"]},{key:"fontSize",label:"Font Size",type:"select",options:["none","12px","14px","16px","18px","20px"]},{key:"fontWeight",label:"Font Weight",type:"select",options:["none","normal","bold","bolder","lighter"]},{key:"fontStyle",label:"Font Style",type:"select",options:["none","normal","italic","oblique"]},{key:"lineHeight",label:"Line Height",type:"select",options:["none","1","1.5","2","2.5"]},{key:"textAlign",label:"Text Align",type:"select",options:["none","left","center","right"]},{key:"textDecoration",label:"Text Decoration",type:"select",options:["none","underline","overline","line-through"]},{key:"textTransform",label:"Text Transform",type:"select",options:["none","uppercase","lowercase","capitalize"]},{key:"letterSpacing",label:"Letter Spacing",type:"text"},{key:"float",label:"Float",type:"select",options:["none","left","right"]},{key:"css",label:"CSS",type:"textarea"}];static applyBaseStyles(e,t){t.color&&(e.style.color=t.color),t.backgroundColor&&(e.style.backgroundColor=t.backgroundColor),t.height&&(e.style.height=`${t.height}`),t.width&&(e.style.width=`${t.width}`),t.paddingTop&&(e.style.paddingTop=`${t.paddingTop}`),t.paddingRight&&(e.style.paddingRight=`${t.paddingRight}`),t.paddingBottom&&(e.style.paddingBottom=`${t.paddingBottom}`),t.paddingLeft&&(e.style.paddingLeft=`${t.paddingLeft}`),t.marginTop&&(e.style.marginTop=`${t.marginTop}`),t.marginRight&&(e.style.marginRight=`${t.marginRight}`),t.marginBottom&&(e.style.marginBottom=`${t.marginBottom}`),t.marginLeft&&(e.style.marginLeft=`${t.marginLeft}`),t.borderRadius&&(e.style.borderRadius=`${t.borderRadius}`),t.borderWidth&&(e.style.borderWidth=`${t.borderWidth}`),t.borderColor&&(e.style.borderColor=t.borderColor),t.display&&(e.style.display=t.display),t.position&&(e.style.position=t.position),t.top&&(e.style.top=t.top),t.right&&(e.style.right=t.right),t.left&&(e.style.left=t.left),t.bottom&&(e.style.bottom=t.bottom),t.font&&(e.style.fontFamily=t.font),t.fontSize&&(e.style.fontSize=t.fontSize),t.fontWeight&&(e.style.fontWeight=t.fontWeight),t.textDecoration&&(e.style.textDecoration=t.textDecoration),t.textTransform&&(e.style.textTransform=t.textTransform),t.letterSpacing&&(e.style.letterSpacing=t.letterSpacing),t.lineHeight&&(e.style.lineHeight=t.lineHeight),t.textAlign&&(e.style.textAlign=t.textAlign),t.css&&(e.style.cssText+=t.css)}}const M={name:"Core Blocks",blocks:[{settingsSchema:[{key:"type",label:"Type",type:"select",options:["label","p","span","h1","h2","h3","h4","h5","h6"]},{key:"text",label:"Text",type:"text"},...c.BaseStyleSchema],type:"text",renderer:s=>{const e=document.createElement(s.settings.type||"label");return c.applyBaseStyles(e,s.settings),e.textContent=s.settings.text||"Text block",e}},{settingsSchema:[{key:"tableData",label:"Table Data",type:"textarea",hidden:!0},...c.BaseStyleSchema],type:"table",isDynamic:!0,renderer:s=>{const e=document.createElement("div");c.applyBaseStyles(e,s.settings);const t=document.createElement("table"),n=document.createElement("tbody");t.appendChild(n);let l=s.settings.tableData?JSON.parse(JSON.stringify(s.settings.tableData)):[[""]],o=1;const r=()=>{n.innerHTML="",l.forEach(u=>{const h=document.createElement("tr");u.forEach(b=>{const m=document.createElement("td");m.contentEditable="true",m.textContent=b,m.style.border="1px solid #ccc",m.style.padding="4px 8px",m.addEventListener("input",()=>{const g=Array.from(n.rows).indexOf(h),f=Array.from(h.cells).indexOf(m);l[g][f]=m.textContent||""}),h.appendChild(m)}),n.appendChild(h)})};r();const a=document.createElement("div");a.style.marginTop="8px",a.style.display="flex",a.style.gap="8px";const i=document.createElement("button");i.textContent="Add Row",i.addEventListener("click",()=>{const u=Array(o).fill("");l.push(u),r()});const d=document.createElement("button");d.textContent="Remove Row",d.addEventListener("click",()=>{l.length>1&&(l.pop(),r())});const p=document.createElement("button");p.textContent="Add Column",p.addEventListener("click",()=>{o++,l.forEach(u=>u.push("")),r()});const y=document.createElement("button");return y.textContent="Remove Column",y.addEventListener("click",()=>{o>1&&(o--,l.forEach(u=>u.pop()),r())}),a.append(i,d,p,y),e.appendChild(t),e.appendChild(a),t.style.borderCollapse="collapse",t.style.width="100%",s.settings.tableData=l,e}},{defaultSettings:{src:"https://www.w3schools.com/html/mov_bbb.mp4",controls:!0},settingsSchema:[{key:"src",label:"Source",type:"text"},...c.BaseStyleSchema],type:"iframe",renderer:s=>{const e=document.createElement("iframe");return c.applyBaseStyles(e,s.settings),e.src=s.settings.src||"https://www.w3schools.com/html/mov_bbb.mp4",e}},{defaultSettings:{src:"https://www.w3schools.com/html/mov_bbb.mp4",controls:!0},settingsSchema:[{key:"src",label:"Source",type:"text"},{key:"controls",label:"Controls",type:"boolean"},{key:"autoplay",label:"Autoplay",type:"boolean"},{key:"muted",label:"Muted",type:"boolean"},{key:"loop",label:"Loop",type:"boolean"},...c.BaseStyleSchema],type:"video",renderer:s=>{const e=document.createElement("video");return c.applyBaseStyles(e,s.settings),e.src=s.settings.src||"https://www.w3schools.com/html/mov_bbb.mp4",e.controls=s.settings.controls||!0,e.autoplay=s.settings.autoplay||!1,e.muted=s.settings.muted||!1,e.loop=s.settings.loop||!1,e}},{defaultSettings:{src:"https://www.w3schools.com/html/mov_bbb.mp4",controls:!0},settingsSchema:[{key:"src",label:"Source",type:"text"},{key:"controls",label:"Controls",type:"boolean"},{key:"autoplay",label:"Autoplay",type:"boolean"},{key:"muted",label:"Muted",type:"boolean"},{key:"loop",label:"Loop",type:"boolean"},...c.BaseStyleSchema],type:"audio",renderer:s=>{const e=document.createElement("audio");return c.applyBaseStyles(e,s.settings),e.src=s.settings.src||"https://www.w3schools.com/html/mov_bbb.mp4",e.controls=s.settings.controls||!0,e.autoplay=s.settings.autoplay||!1,e.muted=s.settings.muted||!1,e.loop=s.settings.loop||!1,e}},{settingsSchema:[{key:"placeholder",label:"Placeholder",type:"text"},{key:"value",label:"Value",type:"text"},{key:"disabled",label:"Disabled",type:"boolean"},{key:"required",label:"Required",type:"boolean"},{key:"autofocus",label:"Autofocus",type:"boolean"},{key:"minlength",label:"Min Length",type:"number"},{key:"maxlength",label:"Max Length",type:"number"},{key:"cols",label:"Columns",type:"number"},{key:"rows",label:"Rows",type:"number"},...c.BaseStyleSchema],type:"textarea",renderer:s=>{const e=document.createElement("textarea");return c.applyBaseStyles(e,s.settings),e.placeholder=s.settings.placeholder||"Write something...",e.value=s.settings.value||"",e.disabled=s.settings.disabled||!1,e.required=s.settings.required||!1,e.autofocus=s.settings.autofocus||!1,e.minLength=s.settings.minlength||0,e.maxLength=s.settings.maxlength||1/0,e.cols=s.settings.cols||30,e.rows=s.settings.rows||10,e}},{settingsSchema:[{key:"placeholder",label:"Placeholder",type:"text"},{key:"value",label:"Value",type:"text"},{key:"type",label:"Type",type:"select",options:["text","email","password","number","date","time","datetime-local","color","range","file","search","tel","url","week","month","hidden","image","submit","reset","button"]},{key:"disabled",label:"Disabled",type:"boolean"},{key:"required",label:"Required",type:"boolean"},{key:"autofocus",label:"Autofocus",type:"boolean"},{key:"minlength",label:"Min Length",type:"number"},{key:"maxlength",label:"Max Length",type:"number"},...c.BaseStyleSchema],type:"input",renderer:s=>{const e=document.createElement("input");return c.applyBaseStyles(e,s.settings),e.placeholder=s.settings.placeholder||"Placeholder",e.value=s.settings.value||"",e.type=s.settings.type||"text",e.disabled=s.settings.disabled||!1,e.required=s.settings.required||!1,e.autofocus=s.settings.autofocus||!1,e.minLength=s.settings.minlength||0,e.maxLength=s.settings.maxlength||50,e}},{defaultSettings:{src:"https://download.logo.wine/logo/Rust_(video_game)/Rust_(video_game)-Logo.wine.png"},settingsSchema:[{key:"src",label:"Source",type:"text"},{key:"alt",label:"Alternative Text",type:"text"},...c.BaseStyleSchema],type:"image",renderer:s=>{const e=document.createElement("img");return c.applyBaseStyles(e,s.settings),e.src=s.settings.src||"https://download.logo.wine/logo/Rust_(video_game)/Rust_(video_game)-Logo.wine.png",e.alt=s.settings.alt||"",e.style.maxWidth="40%",e}},{type:"link",defaultSettings:{label:"Click me",href:"#"},settingsSchema:[{key:"label",label:"Text",type:"text"},{key:"href",label:"URL",type:"text"},{key:"target",label:"Target",type:"select",options:["_self","_blank","_parent","_top"]},...c.BaseStyleSchema],renderer:s=>{const e=document.createElement("a");return c.applyBaseStyles(e,s.settings),e.textContent=s.settings.label??"Click me",e.href=s.settings.href||"#",e.target=s.settings.target||"_self",e.className="link",e}},{type:"button",settingsSchema:[{key:"label",label:"Text",type:"text"},...c.BaseStyleSchema],defaultSettings:{label:"Click me"},renderer:s=>{const e=document.createElement("button");return c.applyBaseStyles(e,s.settings),e.textContent=s.settings.label||"Button",e.className="btn",e}}]},I={name:"Core Sections",sections:[{type:"container",settingsSchema:[{key:"customTitle",label:"Custom Title",type:"text"},...c.BaseStyleSchema],renderer:(s,e)=>{const t=document.createElement("section");if(t.className="container",c.applyBaseStyles(t,s.settings),s.settings.customTitle){const n=document.createElement("h2");n.textContent=s.settings.customTitle,t.appendChild(n)}return t.appendChild(e.renderBlocks({blocks:s.blocks})),t}},{type:"rich-text",settingsSchema:[{key:"heading",label:"Heading",type:"text"},...c.BaseStyleSchema],renderer:(s,e)=>{const t=document.createElement("section");if(t.className="rich-text",c.applyBaseStyles(t,s.settings),s.settings.heading){const n=document.createElement("h2");n.textContent=s.settings.heading,t.appendChild(n)}return t.appendChild(e.renderBlocks({blocks:s.blocks})),t}},{type:"featured-collection",settingsSchema:[{key:"title",label:"Title",type:"text"},{key:"textContent",label:"Description",type:"text"},...c.BaseStyleSchema],renderer:s=>{const e=document.createElement("section");e.className="featured-collection",c.applyBaseStyles(e,s.settings);const t=document.createElement("h2");t.textContent=s.settings.title||"Featured Collection",e.appendChild(t);const n=document.createElement("div");return n.textContent=s.settings.textContent||"ðŸ›’ Product preview (editor only)",n.style.opacity="0.6",e.appendChild(n),e}},{type:"contact-form",settingsSchema:[{key:"heading",label:"Text",type:"text"},{key:"buttonText",label:"Button Text",type:"text"},{key:"namePlaceholder",label:"Name Placeholder",type:"text"},{key:"emailPlaceholder",label:"Email Placeholder",type:"text"},{key:"messagePlaceholder",label:"Message Placeholder",type:"text"},{key:"buttonColor",label:"Button Color",type:"color"},{key:"buttonBackgroundColor",label:"Button Background Color",type:"color"},{key:"buttonBorderColor",label:"Button Border Color",type:"color"},...c.BaseStyleSchema],renderer:s=>{const e=document.createElement("section");e.className="contact-form",c.applyBaseStyles(e,s.settings);const t=document.createElement("h2");t.textContent=s.settings.heading||"Contact Us",e.appendChild(t);const n=document.createElement("form"),l=document.createElement("input");l.type="text",l.placeholder=s.settings.namePlaceholder||"Name",n.appendChild(l),n.appendChild(document.createElement("br"));const o=document.createElement("input");o.type="email",o.placeholder=s.settings.emailPlaceholder||"Email",n.appendChild(o),n.appendChild(document.createElement("br"));const r=document.createElement("textarea");r.placeholder=s.settings.messagePlaceholder||"Message",n.appendChild(r),n.appendChild(document.createElement("br"));const a=document.createElement("button");return a.type="submit",a.textContent=s.settings.buttonText||"Send",a.style.color=s.settings.buttonColor||"#fff",a.style.backgroundColor=s.settings.buttonBackgroundColor||"#007bff",a.style.borderColor=s.settings.buttonBorderColor||"#007bff",n.appendChild(a),e.appendChild(n),e}}]},R={name:"Quote Block",blocks:[{type:"quote",settingsSchema:[{key:"text",label:"Text",type:"text"},...c.BaseStyleSchema],renderer:s=>{const e=document.createElement("blockquote");return c.applyBaseStyles(e,s.settings),e.textContent=s.settings.text||"Quote...",e.style.borderLeft="4px solid #000",e.style.paddingLeft="12px",e.style.opacity="0.8",e},defaultSettings:{text:"This is a quote"}}]},w=new N(document.getElementById("app"));L(I);L(M);L(R);w.load(B);w.initChooser();
